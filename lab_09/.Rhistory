solve_rates <- final_data %>%
group_by(majority_minority_white) %>%
summarize(solve_rate = sum((disposition == "Closed by arrest" na.rm = TRUE) / total_homicides)*100)
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white) %>%
summarize(solve_rate = sum((disposition == "Closed by arrest", na.rm = TRUE) / total_homicides)*100)
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white) %>%
summarize(solve_rate = sum(disposition == "Closed by arrest", na.rm = TRUE) / total_homicides * 100)
solve_rates
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
filter(!is.na(disposition)) %>%
group_by(majority_minority_white) %>%
summarize(solve_rate = sum(disposition == "Closed by arrest", na.rm = TRUE) / total_homicides * 100)
solve_rates
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
filter(!is.na(disposition)) %>%
group_by(majority_minority_white) %>%
summarize(solve_rate = sum(disposition == "Closed by arrest", na.rm = TRUE) / total_homicides * 100)
solve_rates
solve_rates <- final_data %>%
filter(!is.na(disposition))
View(solve_rates)
solve_rates <- final_data %>%
# filter(!is.na(disposition)) %>%
group_by(majority_minority_white, disposition) %>%
summarize(solve_rate = sum(disposition == "Closed by arrest", na.rm = TRUE) / total_homicides * 100)
View(solve_rates)
solve_rates <- final_data %>%
# filter(!is.na(disposition)) %>%
group_by(majority_minority_white, disposition) %>%
count()
View(solve_rates)
View(final_data)
solve_rates <- final_data %>%
# filter(!is.na(disposition)) %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n)
View(solve_rates)
solve_rates <- final_data %>%
# filter(!is.na(disposition)) %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names()
View(solve_rates)
solve_rates <- final_data %>%
# filter(!is.na(disposition)) %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest)
summarize(solve_rate = sum(disposition == "Closed by arrest", na.rm = TRUE) / total_homicides * 100)
solve_rates <- final_data %>%
# filter(!is.na(disposition)) %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
summarize(solve_rate = sum(disposition == "Closed by arrest", na.rm = TRUE) / total_homicides * 100)
solve_rates <- final_data %>%
# filter(!is.na(disposition)) %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest)
View(solve_rates)
solve_rates <- final_data %>%
filter(!is.na(disposition)) %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest)
View(solve_rates)
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest)
solve_rates
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest)
mutate(solve_rate = closed_by_arrest / total_shootings)
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = closed_by_arrest / total_shootings)
View(solve_rates)
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
View(solve_rates)
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates$solve_rate
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates$majority_minority_white$solve_rate
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates$solve_rate
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
print(solve_rate) %>%
print(majority_minority_white)
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate, majority_minority_white) %>%
print()
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, solve_rate) %>%
print()
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, solve_rate) %>%
print()
ggplot()
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
ggplot(aes(x = majority_minority_white, y = closed_by_arrest)) +  # Using closed_by_arrest for demonstration
geom_col(fill = "skyblue", width = 0.5) +  # Use geom_col() for precomputed values
labs(title = "Solving Rates by Majority/Minority White", x = "Majority/Minority White", y = "Count") +  # Adjust labels accordingly
theme_minimal()
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge", width = 0.5) +
labs(title = "Homicide Outcomes by Majority/Minority White Census Tracts",
x = "Outcome",
y = "Count",
fill = "Majority/Minority White") +
theme_minimal()
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Homicide Outcomes by Majority/Minority White Census Tracts",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Homicide Outcomes by Majority/Minority White Census Tracts",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
