baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, solve_rate) %>%
print()
ggplot()
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
ggplot(aes(x = majority_minority_white, y = closed_by_arrest)) +  # Using closed_by_arrest for demonstration
geom_col(fill = "skyblue", width = 0.5) +  # Use geom_col() for precomputed values
labs(title = "Solving Rates by Majority/Minority White", x = "Majority/Minority White", y = "Count") +  # Adjust labels accordingly
theme_minimal()
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge", width = 0.5) +
labs(title = "Homicide Outcomes by Majority/Minority White Census Tracts",
x = "Outcome",
y = "Count",
fill = "Majority/Minority White") +
theme_minimal()
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Homicide Outcomes by Majority/Minority White Census Tracts",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Homicide Outcomes by Majority/Minority White Census Tracts",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
library(janitor)
library(tidyverse)
library(sf)
baltimore_homicides <- read_rds("data/baltimore_homicides.rds")
baltimore_shapefiles <- read_rds("data/baltimore_tract_shapefiles.rds")
baltimore_demographics <- read_rds("data/baltimore_tract_demographics.rds")
total_homicides <- nrow(final_data)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(majority_minority_white, closed_by_arrest, closed_without_arrest, open_no_arrest) %>%
pivot_longer(cols = -majority_minority_white, names_to = "outcome", values_to = "count") %>%
ggplot(aes(x = outcome, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
View(solve_rates)
View(baltimore_homicides)
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = solve_rate, y = count, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = solve_rate, y, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = solve_rate, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = solve_rate, y = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Outcome",
y = "Count",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = solve_rate, y = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Solved and Unsolved Homocides by Race",
x = "Solve Rate",
y = "Race",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = solve_rate, y = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Homicide Solve Rates by Race",
x = "Solve Rate",
y = "Race",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = majority_minority_white, y = solve_rate)) +
geom_col(position = "dodge") +
labs(title = "Homicide Solve Rates by Race",
x = "Solve Rate",
y = "Race",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = majority_minority_white, y = solve_rate)) +
theme(simple) +
geom_col(position = "dodge") +
labs(title = "Homicide Solve Rates by Race",
x = "Race",
y = "Solve Rate",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = majority_minority_white, y = solve_rate)) +
theme = simple +
geom_col(position = "dodge") +
labs(title = "Homicide Solve Rates by Race",
x = "Race",
y = "Solve Rate",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
select(solve_rate) %>%
ggplot(aes(x = majority_minority_white, y = solve_rate)) +
geom_col(position = "dodge") +
labs(title = "Homicide Solve Rates by Race",
x = "Race",
y = "Solve Rate",
fill = "Majority or Minority White")
baltimore_homicides_sf <- st_as_sf(baltimore_homicides)
joined_data <- st_join(baltimore_homicides_sf, baltimore_shapefiles)
joined_data <- joined_data %>%
st_drop_geometry()
final_data <- joined_data %>%
inner_join(baltimore_demographics, by = c("geoid", "name")) %>%
mutate(pct_white = (white_pop / total_pop) * 100) %>%
mutate(majority_minority_white = case_when(
pct_white > 50 ~ "majority_white",
pct_white < 50 ~ "minority_white"
))
solve_rates <- final_data %>%
group_by(majority_minority_white, disposition) %>%
count() %>%
pivot_wider(names_from = disposition, values_from = n) %>%
clean_names() %>%
mutate(total_shootings = closed_by_arrest + closed_without_arrest + open_no_arrest) %>%
mutate(solve_rate = (closed_by_arrest / total_shootings) * 100)
solve_rates %>%
ggplot(aes(x = majority_minority_white, y = solve_rate, fill = majority_minority_white)) +
geom_col(position = "dodge") +
labs(title = "Homicide Solve Rates by Race",
x = "Race",
y = "Solve Rate",
fill = "Majority or Minority White") +
theme_minimal()
View(final_data)
