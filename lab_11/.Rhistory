library(tidyverse)
baltcity_income<- read_csv("https://raw.githubusercontent.com/wellsdata/data_journalism_class/main/04_labs/lab_05/pre_lab_05/baltcity_income_clean.csv") %>%
as.data.frame()
View(baltcity_income)
baltcity_income %>%
sum(x2020)
baltcity_income %>%
mutate(pct_whole = sum(x2020))
View(baltcity_income)
baltcity_income %>%
mutate(pct_whole = x2020/sum(x2020))
baltcity_income <- baltcity_income %>%
mutate(pct_whole = x2020/sum(x2020))
View(baltcity_income)
baltcity_income <- baltcity_income %>%
mutate(pct_whole = x2020/sum(x2020 na.rm = TRUE))
baltcity_income <- baltcity_income %>%
mutate(pct_whole = x2020/sum(x2020, na.rm = TRUE))
View(baltcity_income)
baltcity_income <- baltcity_income %>%
mutate(pct_whole = (x2020/sum(x2020, na.rm = TRUE))*100)
View(baltcity_income)
baltcity_income <- baltcity_income %>%
mutate(pct_whole = (x2020/sum(x2020, na.rm = TRUE))*100) %>%
arrange(desc(pct_whole))
View(baltcity_income)
baltcity_income <- baltcity_income %>%
mutate(diff_income = (x2020-x2010/x2010)*100) %>%
arrange(desc(diff_income))
View(baltcity_income)
baltcity_income <- baltcity_income %>%
mutate(diff_income = (x2020-x2010/x2010)) %>%
arrange(desc(diff_income))
View(baltcity_income)
baltcity_income <- baltcity_income %>%
mutate(diff_income = ((x2020-x2010)/x2010)*100) %>%
arrange(desc(diff_income))
View(baltcity_income)
census_api_key("9788f1a2c2f48db2b495aa1230cfb9bfb24d44b2", install=TRUE, overwrite = TRUE)
library(tidyverse)
library(tidycensus)
library(janitor)
census_api_key("9788f1a2c2f48db2b495aa1230cfb9bfb24d44b2", install=TRUE, overwrite = TRUE)
pl_2020 <- load_variables(2020, "pl", cache = TRUE)
pl_2020
total_pop_2020 <- get_decennial(geography="state", variables="P1_001N", year=2020)
total_pop_2020
total_pop_2020 <- get_decennial(geography="state", variables="P1_001N", year=2020) %>%
arrange(desc(value))
total_pop_2020
total_pop_2020 <- get_decennial(geography="state", variables="P1_001N", year=2020) %>%
clean_names() %>%
arrange(desc(value)) %>%
rename(total_population = value,
state = name) %>%
select(state, total_population)
total_pop_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020)
pct_white_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide")
pct_white_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = P1_001N,
white_pop = P1_003N) %>%
select(-GEOID)
pct_white_2020
pct_white_2020 <- get_decennial(geography="us", variables=c("P1_001N","P1_003N"), year=2020, output="wide") %>%
rename(geography = NAME,
total_pop = P1_001N,
white_pop = P1_003N) %>%
select(-GEOID) %>%
mutate(pct_white = white_pop/total_pop*100)
pct_white_2020
md <- get_acs(geography = "county",
variables = c(median_income = "B19013_001"),
state = "MD",
year = 2020) %>%
arrange(desc(estimate))
md
md %>%
mutate(NAME = gsub(" County, Maryland", "", NAME)) %>%
ggplot(aes(x = estimate, y = reorder(NAME, estimate))) +
geom_errorbarh(aes(xmin = estimate - moe, xmax = estimate + moe)) +
geom_point(color = "red") +
labs(title = "Household income by county in Maryland",
subtitle = "2015-2019 American Community Survey",
y = "",
x = "ACS estimate (bars represent margin of error)")
acs_variable <- load_variables(dataset = "acs5", year=2020)
View(acs_variable)
acs_male <- acs_variable %>%
filter(contains("Male"))
acs_male <- acs_variable %>%
filter_all(any_vars(grepl("Male", .)))
View(acs_male)
View(md)
View(acs_variable)
View(pl_2020)
acs_variable <- load_variables(dataset = "acs5", year=2020)
acs_male <- acs_variable %>%
filter_all(any_vars(grepl("Male", .)))
View(acs_variable)
View(md)
View(acs_variable)
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
year = 2020) %>%
arrange(desc(estimate))
View(acs_male)
acs_variable <- load_variables(dataset = "acs5", year=2020)
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001A_002"),
year = 2020) %>%
arrange(desc(estimate))
View(acs_male)
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001_002"),
year = 2020) %>%
arrange(desc(estimate))
View(acs_male)
View(pl_2020)
View(total_pop_2020)
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001_002"),
year = 2020)
acs_joined <- inner_join(acs_male, total_pop_2020, by = c("Name" = "state"))
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001_002"),
year = 2020)
acs_joined <- inner_join(acs_male, total_pop_2020, by = c("NAME" = "state"))
View(acs_joined)
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001_002"),
year = 2020)
acs_joined <- inner_join(acs_male, total_pop_2020, by = c("NAME" = "state"))
acs_joined %>%
mutate(pct = estimate/total_population) %>%
arrange(desc(pct))
View(acs_joined)
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001_002"),
year = 2020)
acs_joined <- inner_join(acs_male, total_pop_2020, by = c("NAME" = "state"))
acs_joined <- acs_joined %>%
mutate(pct = estimate/total_population) %>%
arrange(desc(pct))
View(acs_joined)
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001_002"),
year = 2020)
acs_joined <- inner_join(acs_male, total_pop_2020, by = c("NAME" = "state"))
acs_joined <- acs_joined %>%
mutate(pct = (estimate/total_population)*100) %>%
arrange(desc(pct))
View(acs_joined)
acs_male <- get_acs(geography = "state",
variables = c(male_population = "B01001_002"),
year = 2020)
acs_joined <- inner_join(acs_male, total_pop_2020, by = c("NAME" = "state"))
acs_joined <- acs_joined %>%
mutate(pct = (estimate/total_population)*100) %>%
arrange(desc(total_population))
View(acs_joined)
