labs(title = "Married Couples With and Without Children", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart)
acs_vars_q_2 <- load_variables(dataset = "acs5", year = 2020)
married_with_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_003"),
year = 2020
)
married_no_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_004"),
year = 2020
)
total_married_couple_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_002"),
year = 2020
) %>%
pull(estimate)
married_with_kids_pop <- married_with_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
married_no_kids_pop <- married_no_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
create_pie_chart <- function(data, title) {
pie_chart <- ggplot(data, aes(x = "", y = pct_of_total, fill = category)) +
geom_bar(stat = "identity", width = 1, color = "white") +
coord_polar("y", start = 0) +
labs(title = title, fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
return(pie_chart)
}
# Create pie charts for married couples with and without kids
pie_chart_with_kids <- create_pie_chart(married_with_kids_pop, "Married Couples with Kids")
pie_chart_no_kids <- create_pie_chart(married_no_kids_pop, "Married Couples without Kids")
# Display the pie charts
print(pie_chart_with_kids)
acs_vars_q_2 <- load_variables(dataset = "acs5", year = 2020)
married_with_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_003"),
year = 2020
)
married_no_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_004"),
year = 2020
)
total_married_couple_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_002"),
year = 2020
) %>%
pull(estimate)
married_with_kids_pop <- married_with_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
married_no_kids_pop <- married_no_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
create_pie_chart <- function(data, title) {
pie_chart <- ggplot(data, aes(x = "", y = pct_of_total, fill = "Category")) +
geom_bar(stat = "identity", width = 1, color = "white") +
coord_polar("y", start = 0) +
labs(title = title, fill = "") +
theme_void() +
theme(legend.position = "none")
return(pie_chart)
}
# Create pie charts for married couples with and without kids
pie_chart_with_kids <- create_pie_chart(married_with_kids_pop, "Married Couples with Kids")
pie_chart_no_kids <- create_pie_chart(married_no_kids_pop, "Married Couples without Kids")
# Display the pie charts
print(pie_chart_with_kids)
print(pie_chart_no_kids)
acs_vars_q_2 <- load_variables(dataset = "acs5", year = 2020)
married_with_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_003"),
year = 2020
)
married_no_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_004"),
year = 2020
)
total_married_couple_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_002"),
year = 2020
) %>%
pull(estimate)
married_with_kids_pop <- married_with_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
married_no_kids_pop <- married_no_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
create_pie_chart <- function(data, title) {
pie_chart <- ggplot(data, aes(x = "", y = pct_of_total, fill = "Category")) +
geom_bar(stat = "identity", width = 1, color = "white") +
coord_polar("y", start = 0) +
labs(title = title, fill = "pct_of_total") +
theme_void() +
theme(legend.position = "none")
return(pie_chart)
}
# Create pie charts for married couples with and without kids
pie_chart_with_kids <- create_pie_chart(married_with_kids_pop, "Married Couples with Kids")
pie_chart_no_kids <- create_pie_chart(married_no_kids_pop, "Married Couples without Kids")
# Display the pie charts
print(pie_chart_with_kids)
print(pie_chart_no_kids)
acs_vars_q_2 <- load_variables(dataset = "acs5", year = 2020)
married_with_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_003"),
year = 2020
)
married_no_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_004"),
year = 2020
)
total_married_couple_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_002"),
year = 2020
) %>%
pull(estimate)
married_with_kids_pop <- married_with_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
married_no_kids_pop <- married_no_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
pie_chart <- ggplot(married_with_kids_pop, aes(x = "", y = pct_of_total, fill = "")) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with Kids", fill = "") +
theme_void() +
theme(legend.position = "none")
# Display the pie chart
print(pie_chart)
pie_data <- data.frame(
category = "Married with Kids",
percentage = married_with_kids_pop$pct_of_total
)
# Create pie chart
pie_chart <- ggplot(pie_data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with Kids", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
pie_data <- data.frame(
category = "Married with Kids",
percentage = married_with_kids_pop$pct_of_total
)
# Create pie chart
pie_chart <- ggplot(pie_data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with Kids", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart)
acs_vars_q_2 <- load_variables(dataset = "acs5", year = 2020)
married_with_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_003"),
year = 2020
)
married_no_kids_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_004"),
year = 2020
)
total_married_couple_pop <- get_acs(
geography = "state",
variables = c(population = "B11012_002"),
year = 2020
) %>%
pull(estimate)
married_with_kids_pop <- married_with_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
married_no_kids_pop <- married_no_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100) %>%
arrange(desc(pct_of_total)) %>%
head(1) %>%
print()
library(ggplot2)
# Assuming you have already defined married_with_kids_pop and total_married_couple_pop
# Calculate percentage of married couples with kids
married_with_kids_pop <- married_with_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100)
library(ggplot2)
# Assuming you have already defined married_with_kids_pop and total_married_couple_pop
# Create a data frame for the pie chart
pie_data <- data.frame(
category = "Married with Kids",
percentage = married_with_kids_pop$pct_of_total
)
# Create pie chart
pie_chart <- ggplot(pie_data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with Kids", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
# Display the pie chart
print(pie_chart)
library(ggplot2)
# Assuming you have already defined married_with_kids_pop and total_married_couple_pop
# Calculate percentage of married couples with kids
married_with_kids_pop <- married_with_kids_pop %>%
mutate(pct_of_total = (estimate / total_married_couple_pop) * 100)
library(ggplot2)
# Assuming you have already defined married_with_kids_pop and total_married_couple_pop
# Create pie chart
pie_chart <- ggplot() +
geom_bar(data = married_with_kids_pop, aes(x = "", y = pct_of_total, fill = "Married with Kids"),
stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with Kids", fill = "") +
theme_void() +
theme(legend.position = "none")
# Display the pie chart
print(pie_chart)
married_kids_pie_data <- data.frame(
category = "Category",
percentage = married_with_kids_pop$pct_of_total
)
# Create pie chart
pie_chart <- ggplot(data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = paste("Pie Chart Showing", percent_value, "%"), fill = "") +
theme_void() +
theme(legend.position = "bottom")
married_kids_pie_data <- data.frame(
category = "Category",
percentage = married_with_kids_pop$pct_of_total
)
# Create pie chart
pie_chart <- ggplot(data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = paste("Pie Chart Showing", married_with_kids_pop$pct_of_total, "%"), fill = "") +
theme_void() +
theme(legend.position = "bottom")
married_kids_pie_data <- data.frame(
category = "Category",
percentage = married_with_kids_pop$pct_of_total
)
married_with_kids_pie_chart <- ggplot(married_kids_pie_data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = paste("Pie Chart Showing", married_with_kids_pop$pct_of_total, "%"), fill = "") +
theme_void() +
theme(legend.position = "bottom")
print(married_with_kids_pie_chart)
married_kids_pie_data <- data.frame(
category = "Category",
percentage = married_with_kids_pop$pct_of_total, 51
)
married_with_kids_pie_chart <- ggplot(married_kids_pie_data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = paste("Pie Chart Showing", married_with_kids_pop$pct_of_total, "%"), fill = "") +
theme_void() +
theme(legend.position = "bottom")
print(married_with_kids_pie_chart)
married_kids_pie_data <- data.frame(
category = "Category",
percentage = married_with_kids_pop$pct_of_total,
)
married_kids_pie_data <- data.frame(
category = "Category",
percentage = married_with_kids_pop$pct_of_total
)
married_with_kids_pie_chart <- ggplot(married_kids_pie_data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = paste("Pie Chart Showing", married_with_kids_pop$pct_of_total, "%"), fill = "") +
theme_void() +
theme(legend.position = "bottom")
print(married_with_kids_pie_chart)
# Calculate percentage of married couples with kids
married_with_kids_pct <- married_with_kids_pop$pct_of_total
# Calculate percentage of married couples without kids
total <- 100 - married_with_kids_pct
# Create a data frame for the pie chart
pie_data <- data.frame(
category = c("Married with Kids", "Married Without Kids"),
percentage = c(married_with_kids_pct, total)
)
# Create pie chart
pie_chart <- ggplot(pie_data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
# Display the pie chart
print(pie_chart)
# Calculate percentage of married couples with kids
married_with_kids_pct <- married_with_kids_pop$pct_of_total
# Calculate percentage of married couples without kids
total <- 100 - married_with_kids_pct
# Create a data frame for the pie chart
pie_data <- data.frame(
category = c("Married with Kids", "Married Without Kids"),
percentage = c(married_with_kids_pct, total)
)
# Create pie chart
pie_chart <- ggplot(pie_data, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Utah)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
# Display the pie chart
print(pie_chart)
married_with_kids_pct <- married_with_kids_pop$pct_of_total
total_utah <- 100 - married_with_kids_pct
pie_data_utah <- data.frame(
category = c("Married with Kids", "Married Without Kids"),
percentage = c(married_with_kids_pct, total_utah)
)
pie_chart_utah <- ggplot(pie_data_utah, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Utah)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_utah)
married_with_no_kids_pct <- married_with_no_kids_pop$pct_of_total
married_with_kids_pct <- married_with_kids_pop$pct_of_total
total_utah <- 100 - married_with_kids_pct
pie_data_utah <- data.frame(
category = c("Married with Kids", "Married Without Kids"),
percentage = c(married_with_kids_pct, total_utah)
)
pie_chart_utah <- ggplot(pie_data_utah, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Utah)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_utah)
married_no_kids_pct <- married_no_kids_pop$pct_of_total
total_puerto_rico <- 100 - married_no_kids_pct
pie_data_puerto_rico <- data.frame(
category = c("Married with Kids", "Married Without Kids"),
percentage = c(married_with_no_kids_pct, total_puerto_rico)
)
married_with_kids_pct <- married_with_kids_pop$pct_of_total
total_utah <- 100 - married_with_kids_pct
pie_data_utah <- data.frame(
category = c("Married with Kids", "Married Without Kids"),
percentage = c(married_with_kids_pct, total_utah)
)
pie_chart_utah <- ggplot(pie_data_utah, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Utah)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_utah)
married_no_kids_pct <- married_no_kids_pop$pct_of_total
total_puerto_rico <- 100 - married_no_kids_pct
pie_data_puerto_rico <- data.frame(
category = c("Married with Kids", "Married Without Kids"),
percentage = c(married_no_kids_pct, total_puerto_rico)
)
pie_chart_puerto_rico <- ggplot(pie_data_puerto_rico, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Puerto Rico)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_puerto_rico)
married_with_kids_pct <- married_with_kids_pop$pct_of_total
total_utah <- 100 - married_with_kids_pct
pie_data_utah <- data.frame(
category = c("Married with Kids", "Married Without Kids"),
percentage = c(married_with_kids_pct, total_utah)
)
pie_chart_utah <- ggplot(pie_data_utah, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Utah)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_utah)
married_no_kids_pct <- married_no_kids_pop$pct_of_total
total_puerto_rico <- 100 - married_no_kids_pct
pie_data_puerto_rico <- data.frame(
category = c("Married without Kids", "Married with Kids"),
percentage = c(married_no_kids_pct, total_puerto_rico)
)
pie_chart_puerto_rico <- ggplot(pie_data_puerto_rico, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Puerto Rico)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_puerto_rico)
married_with_kids_pct <- married_with_kids_pop$pct_of_total
total_utah <- 100 - married_with_kids_pct
pie_data_utah <- data.frame(
category = c("Married with Kids", "Married without Kids"),
percentage = c(married_with_kids_pct, total_utah)
)
pie_chart_utah <- ggplot(pie_data_utah, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Utah)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_utah)
married_no_kids_pct <- married_no_kids_pop$pct_of_total
total_puerto_rico <- 100 - married_no_kids_pct
pie_data_puerto_rico <- data.frame(
category = c("Married without Kids", "Married with Kids"),
percentage = c(married_no_kids_pct, total_puerto_rico)
)
pie_chart_puerto_rico <- ggplot(pie_data_puerto_rico, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married Couples with and without Kids (Puerto Rico)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_puerto_rico)
married_with_kids_pct <- married_with_kids_pop$pct_of_total
total_utah <- 100 - married_with_kids_pct
pie_data_utah <- data.frame(
category = c("Married with Kids", "Married without Kids"),
percentage = c(married_with_kids_pct, total_utah)
)
pie_chart_utah <- ggplot(pie_data_utah, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married-Couple Households with and without Kids (Utah)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_utah)
married_no_kids_pct <- married_no_kids_pop$pct_of_total
total_puerto_rico <- 100 - married_no_kids_pct
pie_data_puerto_rico <- data.frame(
category = c("Married without Kids", "Married with Kids"),
percentage = c(married_no_kids_pct, total_puerto_rico)
)
pie_chart_puerto_rico <- ggplot(pie_data_puerto_rico, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married-Couple Households with and without Kids (Puerto Rico)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_puerto_rico)
married_with_kids_pct <- married_with_kids_pop$pct_of_total
total_utah <- 100 - married_with_kids_pct
pie_data_utah <- data.frame(
category = c("Married with Kids", "Married without Kids"),
percentage = c(married_with_kids_pct, total_utah)
)
pie_chart_utah <- ggplot(pie_data_utah, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
geom_text(aes(label = paste0(round(percentage), "%")), position = position_stack(vjust = 0.5)) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married-Couple Households with and without Kids (Utah)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_utah)
married_no_kids_pct <- married_no_kids_pop$pct_of_total
total_puerto_rico <- 100 - married_no_kids_pct
pie_data_puerto_rico <- data.frame(
category = c("Married without Kids", "Married with Kids"),
percentage = c(married_no_kids_pct, total_puerto_rico)
)
pie_chart_puerto_rico <- ggplot(pie_data_puerto_rico, aes(x = "", y = percentage, fill = category)) +
geom_bar(stat = "identity", width = 1) +
geom_text(aes(label = paste0(round(percentage), "%")), position = position_stack(vjust = 0.5)) +
coord_polar("y", start = 0) +
labs(title = "Proportion of Married-Couple Households with and without Kids (Puerto Rico)", fill = "Category") +
theme_void() +
theme(legend.position = "bottom")
print(pie_chart_puerto_rico)
